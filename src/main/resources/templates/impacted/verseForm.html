<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
    <head>
        <title>Lyrical Impact</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"></meta>
        <!-- https://www.w3schools.com/w3css/tryit.asp?filename=tryw3css_templates_social&stacked=h -->
        <link rel="stylesheet" href="/css/w3.css"/>
        <link rel="stylesheet" href="/css/w3-theme-blue-grey.css"/>
        <style>
            html,body,h1,h2,h3,h4,h5 {font-family: "Open Sans", sans-serif}
        </style>
        
        <link rel="stylesheet" href="/css/docsupport/style.css"/>
        <link rel="stylesheet" href="/css/docsupport/prism.css"/>
        <link rel="stylesheet" href="/css/chosen.css"/>
    </head>
    <body class="w3-theme-l5">
        <div th:replace="fragments/header :: header"></div>
        
        <!-- Page Container -->
        <div class="w3-container w3-content" style="max-width:1260px;margin-top:80px">   
            <!-- The Grid -->
            <div class="w3-row">

                <!-- Form Column -->
                <div class="w3-col m11">

                    <div class="w3-row-padding">
                        <div class="w3-col m12">
                            <div class="w3-card w3-round w3-white">
                                <div class="w3-container w3-padding">

                                    <h3 class="w3-opacity">Add a verse that impacted you!</h3>
                                    <form method="POST" th:action="@{/verse}" th:object="${verse}">
                                        <span class="w3-right">
                                            <span class="w3-red" th:if="${#fields.hasErrors('text')}" th:errors="*{text}">text error</span>
                                        </span>
                                        <h5>* Verse:</h5> <textarea th:field="*{text}" th:placeholder="'Just the punchy, important bits that impacted you the most, not the whole thing. This could be part of a poem or a song...'" style="width: 100%; height: 200px" tabindex="1"/>

                                        <span class="w3-right">
                                            <span class="w3-red" th:if="${#fields.hasErrors('reaction')}" th:errors="*{reaction}">reaction error</span>
                                        </span>
                                        <h5>Your reaction:</h5> <textarea th:field="*{reaction}" th:placeholder="'You can come back later if you want to think about it more...'" style="width: 100%; height: 95px" tabindex="2"/>

                                        <span class="w3-right">
                                            <span class="w3-red" th:if="${#fields.hasErrors('title')}" th:errors="*{title}">title error</span>
                                        </span>
                                        <h5>Title this verse is part of:</h5> <input type="text" th:field="*{title}" th:placeholder="'It\'s fine if you don\'t know...'" style="width: 100%" tabindex="3"/>

                                        <span class="w3-right">
                                            <span class="w3-red" th:if="${#fields.hasErrors('author')}" th:errors="*{author}">author error</span>
                                        </span>
                                        <h5>Author who wrote this verse:</h5> <input type="text" th:field="*{author}" th:placeholder="'It\'s fine if you don\'t know...'" style="width: 100%" tabindex="4"/>
                                        
                                        <h5>Tag this verse so that you can find similar impacts later:</h5>
                                        <select th:field="*{tags}" data-placeholder="Tags..." class="chosen-select-width" multiple="true" tabindex="5">
                                            <option th:each="tag: ${allTags}" th:value="${tag.label}" th:text="${tag.label}"/>
                                        </select>
  
                                        <hr class="w3-clear"/>
                                        <input type="hidden" th:if="*{id > 0}" th:field="*{id}"/>
                                        <button type="submit" class="w3-button w3-theme" name="save" th:text="*{id > 0}? 'Update impacted verse' : 'Save impacted verse'" tabindex="6">Save</button>
                                        <button type="delete" th:if="*{id > 0}" th:formaction="@{/verse/delete}" class="w3-button w3-red w3-right" name="delete" th:text="'Delete impacted verse'" tabindex="7">Delete</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> 
            </div>
        </div>
        <script src="/js/docsupport/jquery-3.2.1.min.js" type="text/javascript"></script>
        <script src="/js/chosen.jquery.js" type="text/javascript"></script>
        <script src="/js/docsupport/prism.js" type="text/javascript" charset="utf-8"></script>
        <script src="/js/docsupport/init.js" type="text/javascript" charset="utf-8"></script>
    </body>
</html>